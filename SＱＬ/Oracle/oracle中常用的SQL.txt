20:17 2021/04/24
--Oracle中的instr()函数 详解及应用  

select instr('helloworld','l',2,2) from dual;  
--返回结果：4    也就是说：在"helloworld"的第2(e)号位置开始，查找第二次出现的“l”的位置

格式一：instr( string1, string2 )    /   instr(源字符串, 目标字符串)
select * from aaa  where instr(film_text,"ZO"); 
--返回结果：4    也就是说：在"字段"film_text" 中 含有""ZO"的数据



 SELECT * FROM aaa  WHERE LENGTH(film_text) > LENGTH(rtrim(film_text))
 --末尾带有空格的字段直接检索出来
 
 
 
 --RONUMで連番を取得！Oracleで連番を取得する方法
 --レコードの取得順に ROWNUM擬似列に連番が振られています
SELECT  ROWNUM , Name, Age  FROM users


--ROWNUMで2レコード目だけを抽出する場合は

SELECT *
FROM (
  SELECT ROWNUM AS num
       , users.* 
  FROM users
)
WHERE num = 2


--查询正序的第一条和倒序的第一条

select * from(
       select t.name,
              t.sex,
              t.time,
              row_number() over(order by t.time) rowss1,
              row_number() over(order by t.time desc) rowss2 from TABLE1 t)
	where rowss1='1' or rowss2='1';
	
	
-- MySQL 升序排序后查询字段的第一条数据
SELECT  aaa.* FROM aaa order by submitted_user_id  desc limit 1	

--Oracle 查询出来的数据取第一条
select * from (select * from <table> order by <key>) where rownum=1;

select * from (select * from <table> order by <key> desc) where rownum=1;

20:38 2021/04/24
--MYSQL  自動採番　　テーブル構造を確認する
desc aaa or  DESCRIBE aaa

.LOG  ORACLEのシーケンス（順序）の現在値または次に採番される値の確認方法

.20:31 2021/04/24  静的データディクショナリビューを参照---查看静态数据字典视图

SELECT SEQUENCE_NAME,LAST_NUMBER FROM USER_SEQUENCES;
 
SEQUENCE_NAME  LAST_NUMBER
-------------- -----------
TEST_SEQ1                1


20:21 2021/04/24

ORACLEのシーケンス（順序） LAST_NUMBER項目を参照
SELECT SEQUENCE_NAME,LAST_NUMBER FROM USER_SEQUENCES;
 
SEQUENCE_NAME  LAST_NUMBER
-------------- -----------
TEST_SEQ1                1
 

SELECT test_seq1.NEXTVAL a FROM DUAL;
    A
-----
    1


シーケンス名.CURRVAL

 
SELECT test_seq1.CURRVAL a FROM DUAL;
    A
-----
    1